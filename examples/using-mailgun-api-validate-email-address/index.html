<!doctype html>
<html>
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article#">
    <meta charset="utf-8">
<title>Using Mailgun API to validate email address - FormValidation</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="FormValidation - The best jQuery validation plugin to validate form fields, support Bootstrap, Zurb Foundation, Pure, Semantic, UIKit frameworks">
<meta name="keywords" content="FormValidation, BootstrapValidator, form validation, form validate, form validator, jQuery validation plugin, jquery validate plugin, jquery validator plugin, Zurb Foundation validation, Pure validation, SemanticUI validation, UIKit validation, Skeleton validation, Bootstrap, Zurb Foundation, Pure, SemanticUI, UIKit, Skeleton">
<meta name="author" content="Nguyen Huu Phuoc">
<meta name="google-site-verification" content="FMmr8kYuIuW27-qJLOb1Z59OgiVgKNgAv4_eMARhIY8" />

<meta name="twitter:site" content="@formvalidation" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="FormValidation - The best jQuery validation plugin to validate form fields, support Bootstrap, Zurb Foundation, Pure, Semantic, UIKit frameworks" />
<meta name="twitter:title" content="Using Mailgun API to validate email address - FormValidation" />
<meta name="twitter:image" content="http://formvalidation.io/examples/using-mailgun-api-validate-email-address/cover.png" />

<meta property="og:title" content="Using Mailgun API to validate email address - FormValidation" />
<meta property="og:description" content="FormValidation - The best jQuery validation plugin to validate form fields, support Bootstrap, Zurb Foundation, Pure, Semantic, UIKit frameworks" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://formvalidation.io/examples/using-mailgun-api-validate-email-address/" />
<meta property="og:image" content="http://formvalidation.io/examples/using-mailgun-api-validate-email-address/cover.png" />
<meta property="og:site_name" content="FormValidation" />

<link rel="icon" type="image/x-icon" href="/asset/img/favicon.ico">
<link rel="stylesheet" href="//cdn.jsdelivr.net/bootstrap/3.3.2/css/bootstrap.min.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/fontawesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/vendor/formvalidation/css/formValidation.min.css">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lato:300,400,700">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Cardo:400,400italic,700">
<link rel="stylesheet" href="/vendor/pygments/github.css">
<link rel="stylesheet" href="/asset/css/style.css">

<!--[if lt IE 9]>
<script src="//cdn.jsdelivr.net/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="//cdn.jsdelivr.net/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="//cdn.jsdelivr.net/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="/vendor/formvalidation/js/formValidation.min.js"></script>
<script src="/vendor/formvalidation/js/framework/bootstrap.min.js"></script>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-44786951-2']);
_gaq.push(['_trackPageview']);

(function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</head>
<body>
    <nav class="doc-nav" tabindex="-1">
    <ul>
        <li><a href="/">Home</a></li>
    
        
        <li class=""><a href="/download/">Download</a></li>
    
        
        <li class=""><a href="/getting-started/">Getting Started</a></li>
    
        
        <li class=""><a href="/settings/">Settings</a></li>
    
        
        <li class=""><a href="/api/">API</a></li>
    
        
        <li class=""><a href="/validators/">Validators</a></li>
    
        
        <li class=""><a href="/addons/"><span></span> Add-ons</a></li>
    
        
        <li class="doc-nav-active"><a href="/examples/"><span></span> Examples</a></li>
    
        
        <li class=""><a href="/developing/">Developing</a></li>
    
        
        <li class=""><a href="/news/">News</a></li>
    
        
        <li class=""><a href="/license/">License</a></li>
    
    </ul>

    <div class="doc-hr"></div>

    <ul>
        <li><a href="https://twitter.com/formvalidation/" title="Follow FormValidation on Twitter">Twitter <i class="fa fa-twitter"></i></a></li>
        <li><a href="https://www.facebook.com/formvalidation/" title="Like FormValidation on Facebook">Facebook <i class="fa fa-facebook"></i></a></li>
        <li><a href="https://plus.google.com/u/0/communities/114931136856987817254" title="Join FormValidation community on Google+">Google+ <i class="fa fa-google-plus"></i></a></li>
    </ul>

    <div class="doc-hr"></div>

    <div class="doc-creator">
        <p>
            Handcrafted with <span class="doc-heart"><i class="fa fa-heart"></i></span> and a lot of <i class="fa fa-coffee"></i><br />
            by <a href="http://twitter.com/nghuuphuoc">@nghuuphuoc</a><br/>
            <img src="/asset/img/logo.png" width="60px" height="60px" />
        </p>
        <p><a href="mailto: phuoc@huuphuoc.me" class="btn">Hire me</a></p>
    </div>
</nav>

<a id="toggleButton" class="doc-nav-toggle" title="Toggle the navigation"><i class="fa fa-navicon"></i></a>

    <div id="main" class="doc-content-wrapper">
        <div class="doc-notification" id="notification">
    <i class="fa fa-bell-o"></i> <a href="/news/v0.7.0-released/">v0.7.0 is released on 2015.08.01</a>
</div>
<script>
$(document).ready(function() {
    var notifications = [],
        $message      = $('#notification').find('a').data('index', 0);
    notifications.push({ title: 'v0.7.0 is released on 2015.08.01', url: '/news/v0.7.0-released/'});
    notifications.push({ title: 'New example: Validating international phone numbers', url: '/examples/validating-international-phone-numbers/'});
    notifications.push({ title: 'New example: Asking fields to be unique', url: '/examples/asking-fields-be-unique/'});
    notifications.push({ title: 'New example: Contact form', url: '/examples/contact-form/'});
    notifications.push({ title: 'New example: Validating form generated by JotForm', url: '/examples/jot-form/'});
    notifications.push({ title: 'New example: Validating percentage values', url: '/examples/validating-percentage-values/'});
    notifications.push({ title: 'New example: Validating custom Stripe form', url: '/examples/validating-custom-stripe-form/'});
    notifications.push({ title: 'New example: Showing custom message returned from server', url: '/examples/showing-custom-message-returned-from-server/'});
    notifications.push({ title: 'New example: Terms and conditions agreement validation', url: '/examples/terms-conditions-agreement-validation/'});
    notifications.push({ title: 'New example: Ignoring validation', url: '/examples/ignoring-validation/'});
    
    setInterval(function() {
        $message.data('index', $message.data('index') + 1);
        if ($message.data('index') >= notifications.length) {
            $message.data('index', 0);
        }
        $message
            .fadeOut('slow')
            .promise()
            .then(function() {
                $message.attr('href', notifications[$message.data('index')].url)
                        .html(notifications[$message.data('index')].title)
                        .fadeIn('slow');
            });
    }, 5000);
});
</script>

        <div class="doc-content-container">
    <div class="doc-heading">
        <h1>Using Mailgun API to validate email address</h1>
        <p>&larr; <a href="/examples/">Examples</a></p>
        <div id="shareButton" class="doc-share-button"></div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <p><a href="http://www.mailgun.com/">Mailgun</a> is one of most popular email services. It also provides free API to validate an email address based on:</p>
                <ul class="doc-list">
                    <li>Syntax checks</li>
                    <li>DNS validation</li>
                    <li>Spell checks</li>
                    <li>Email Service Provider (ESP)</li>
                </ul>

                <p>The following example shows how to use the <a href="/validators/emailAddress/">emailAddress</a> validator to validate email address in the client side first. And then use the <a href="/validators/remote/">remote</a> validator to connect with Mailgun validation API.</p>
                <p>To use it, you need to <a href="https://mailgun.com/signup">sign up</a> for a Mailgun account and get a free API key.</p>

                <div class="doc-alert doc-alert-info">
                    The crossDomain, dataType, validKey options of the <a href="/validators/remote/">remote</a> validator used in the example are only available from v0.6.1
                </div>

                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Email address</th>
                                <th>Description</th>
                                <th>Result</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><a href="javascript: void(0);" class="mailGunSample">john@gmail.com</a></td>
                                <td>Does not meet Gmail minimum local-part length of 6 characters</td>
                                <td><i class="fa"></i></td>
                            </tr>
                            <tr>
                                <td><a href="javascript: void(0);" class="mailGunSample">john.smith@gmaill.com</a></td>
                                <td>Invalid, because gmaill.com does not have valid MX records</td>
                                <td><i class="fa"></i></td>
                            </tr>
                            <tr>
                                <td><a href="javascript: void(0);" class="mailGunSample">john@microsoft.io</a></td>
                                <td>Invalid because while microsoft.io does not have any MX records, it does have fallback A records, but alas no Mail Exchanger responds</td>
                                <td><i class="fa"></i></td>
                            </tr>
                            <tr>
                                <td><a href="javascript: void(0);" class="mailGunSample">john.smith@gmail.com</a></td>
                                <td>Meets Gmail 6 character minimum and all other requirements</td>
                                <td><i class="fa"></i></td>
                            </tr>
                            <tr>
                                <td><a href="javascript: void(0);" class="mailGunSample">"hello world"@domain.com</a></td>
                                <td>Meets pure syntax checks</td>
                                <td><i class="fa"></i></td>
                            </tr>
                            <tr>
                                <td><a href="javascript: void(0);" class="mailGunSample">hello@gail.com</a></td>
                                <td>Suggest new email address</td>
                                <td><i class="fa"></i></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                









<div class="doc-demo">
    <ul class="nav nav-tabs">
        <li role="presentation" class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button"><span class="doc-framework">Framework</span> <i class="caret"></i></a>
            <ul class="dropdown-menu" role="menu">
                
                <li><a href="/examples/using-mailgun-api-validate-email-address/bootstrap.html" data-demo-target="#mailgun-frame" data-demo-framework="bootstrap">Bootstrap</a></li>
                
            </ul>
        </li>
        <li class="active"><a href="#mailgun-form-tab" data-toggle="tab">Try it</a></li>
        
        <li><a href="#mailgun-programmatic-tab" data-toggle="tab">Programmatic code</a></li>
        
        <li class="doc-demo-direct"><a href="/examples/using-mailgun-api-validate-email-address/bootstrap.html" data-toggle="tooltip" data-container="body" title="Open the demo in new tab" target="_blank"><i class="fa fa-external-link"></i></a></li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane active" id="mailgun-form-tab">
            <iframe class="doc-demo-frame" id="mailgun-frame"></iframe>
        </div>

        
        <div class="tab-pane" id="mailgun-programmatic-tab">
            
            <div data-demo-code="bootstrap">
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">&quot;emailForm&quot;</span> <span class="na">class=</span><span class="s">&quot;form-horizontal&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;form-group&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;label</span> <span class="na">class=</span><span class="s">&quot;col-xs-3 control-label&quot;</span><span class="nt">&gt;</span>Email address<span class="nt">&lt;/label&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-xs-5&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">class=</span><span class="s">&quot;form-control&quot;</span> <span class="na">name=</span><span class="s">&quot;email&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/form&gt;</span>

<span class="nt">&lt;script&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#emailForm&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">formValidation</span><span class="p">({</span>
            <span class="nx">framework</span><span class="o">:</span> <span class="s1">&#39;bootstrap&#39;</span><span class="p">,</span>
            <span class="nx">icon</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">valid</span><span class="o">:</span> <span class="s1">&#39;glyphicon glyphicon-ok&#39;</span><span class="p">,</span>
                <span class="nx">invalid</span><span class="o">:</span> <span class="s1">&#39;glyphicon glyphicon-remove&#39;</span><span class="p">,</span>
                <span class="nx">validating</span><span class="o">:</span> <span class="s1">&#39;glyphicon glyphicon-refresh&#39;</span>
            <span class="p">},</span>
            <span class="nx">fields</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">email</span><span class="o">:</span> <span class="p">{</span>
                    <span class="nx">verbose</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
                    <span class="nx">validators</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">notEmpty</span><span class="o">:</span> <span class="p">{</span>
                            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;The email address is required and can\&#39;t be empty&#39;</span>
                        <span class="p">},</span>
                        <span class="nx">emailAddress</span><span class="o">:</span> <span class="p">{</span>
                            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;The input is not a valid email address&#39;</span>
                        <span class="p">},</span>
                        <span class="nx">stringLength</span><span class="o">:</span> <span class="p">{</span>
                            <span class="nx">max</span><span class="o">:</span> <span class="mi">512</span><span class="p">,</span>
                            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;Cannot exceed 512 characters&#39;</span>
                        <span class="p">},</span>
                        <span class="nx">remote</span><span class="o">:</span> <span class="p">{</span>
                            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;GET&#39;</span><span class="p">,</span>
                            <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;https://api.mailgun.net/v2/address/validate?callback=?&#39;</span><span class="p">,</span>
                            <span class="nx">crossDomain</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
                            <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;address&#39;</span><span class="p">,</span>
                            <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
                                <span class="c1">// Registry a Mailgun account and get a free API key</span>
                                <span class="c1">// at https://mailgun.com/signup</span>
                                <span class="nx">api_key</span><span class="o">:</span> <span class="s1">&#39;pubkey-83a6-sl6j2m3daneyobi87b3-ksx3q29&#39;</span>
                            <span class="p">},</span>
                            <span class="nx">dataType</span><span class="o">:</span> <span class="s1">&#39;jsonp&#39;</span><span class="p">,</span>
                            <span class="nx">validKey</span><span class="o">:</span> <span class="s1">&#39;is_valid&#39;</span><span class="p">,</span>
                            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;The email is not valid&#39;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;success.validator.fv&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">field</span> <span class="o">===</span> <span class="s1">&#39;email&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">validator</span> <span class="o">===</span> <span class="s1">&#39;remote&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span>  <span class="c1">// response is the result returned by MailGun API</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">did_you_mean</span><span class="p">)</span> <span class="p">{</span>
                    <span class="c1">// Update the message</span>
                    <span class="nx">data</span><span class="p">.</span><span class="nx">element</span>                    <span class="c1">// The field element</span>
                        <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;fv.messages&#39;</span><span class="p">)</span>        <span class="c1">// The message container</span>
                        <span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;[data-fv-validator=&quot;remote&quot;][data-fv-for=&quot;email&quot;]&#39;</span><span class="p">)</span>
                        <span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s1">&#39;Did you mean &#39;</span> <span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">did_you_mean</span> <span class="o">+</span> <span class="s1">&#39;?&#39;</span><span class="p">)</span>
                        <span class="p">.</span><span class="nx">show</span><span class="p">();</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;err.validator.fv&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">field</span> <span class="o">===</span> <span class="s1">&#39;email&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">validator</span> <span class="o">===</span> <span class="s1">&#39;remote&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// We need to reset the error message</span>
                <span class="nx">data</span><span class="p">.</span><span class="nx">element</span>                <span class="c1">// The field element</span>
                    <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;fv.messages&#39;</span><span class="p">)</span>    <span class="c1">// The message container</span>
                    <span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;[data-fv-validator=&quot;remote&quot;][data-fv-for=&quot;email&quot;]&#39;</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s1">&#39;The email is not valid&#39;</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">show</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">});</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div>
            </div>
            
        </div>
        
    </div>
</div>
            </div>

            <div class="col-md-3 hidden-print hidden-xs hidden-sm">
                <div class="doc-ad">
    <h6>Advertising</h6>

    <a href="https://emailyoyo.com/api/" class="thumbnail" target="_blank">
        <img class="img-responsive" src="/asset/img/banner/emailyoyo.gif" title="Email YoYo: Real time email validation" />
    </a>

    <a href="mailto: hello@formvalidation.io" class="thumbnail">
        <img class="img-responsive" src="/asset/img/adhere.png" title="Advertise on FormValidation" />
    </a>
</div>
            </div>
        </div>
    </div>
</div>

<script>
$(document).ready(function() {
    $('.mailGunSample').on('click', function() {
        var formWindow = $('#mailgun-frame').get(0).contentWindow,
            $icon      = $(this).parents('tr').find('i');
        formWindow.revalidateEmailAddress($(this).text(), $icon);
    });
});
</script>

        <footer class="doc-footer">
    <div class="container">
        <p>
            
            <a class="btn" href="/download/">Download</a>
            
            <a class="btn" href="https://github.com/formvalidation/support/issues">Report bug</a>
        </p>
        <p>
            &copy; 2013 - 2015 <a href="http://twitter.com/nghuuphuoc">Nguyen Huu Phuoc</a>. All rights reserved.<br/>
            Handcrafted with <span class="doc-heart"><i class="fa fa-heart"></i></span> and a lot of <i class="fa fa-coffee"></i>
        </p>
    </div>
</footer>
    </div>

<script src="/vendor/tocjs/js/toc.min.js"></script>
<script src="/vendor/share/share.min.js"></script>
<script src="/asset/js/app.js"></script>
</body>
</html>