<!doctype html>
<html>
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article#">
    <meta charset="utf-8">
<title>Showing custom message returned from server - FormValidation</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="FormValidation - The best jQuery plugin to validate form fields, support Bootstrap, Foundation, Pure, Semantic, UIKit frameworks">
<meta name="keywords" content="FormValidation, BootstrapValidator, jQuery, form, validate, validation, validator, plugin, Bootstrap, Foundation, Pure, SemanticUI, UIKit">
<meta name="author" content="Nguyen Huu Phuoc">
<meta name="google-site-verification" content="FMmr8kYuIuW27-qJLOb1Z59OgiVgKNgAv4_eMARhIY8" />

<meta name="twitter:site" content="@formvalidation" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="FormValidation - The best jQuery plugin to validate form fields, support Bootstrap, Foundation, Pure, Semantic, UIKit frameworks" />
<meta name="twitter:title" content="Showing custom message returned from server - FormValidation" />
<meta name="twitter:image" content="http://formvalidation.io/asset/img/logo.png" />

<meta property="og:title" content="Showing custom message returned from server - FormValidation" />
<meta property="og:description" content="FormValidation - The best jQuery plugin to validate form fields, support Bootstrap, Foundation, Pure, Semantic, UIKit frameworks" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://formvalidation.io/examples/showing-custom-message-returned-from-server/" />
<meta property="og:image" content="http://formvalidation.io/asset/img/logo.png" />
<meta property="og:site_name" content="FormValidation" />

<link rel="icon" type="image/x-icon" href="/asset/img/favicon.ico">
<link rel="stylesheet" href="//cdn.jsdelivr.net/bootstrap/3.3.2/css/bootstrap.min.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/fontawesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/vendor/formvalidation/css/formValidation.min.css">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lato:300,400,700">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Cardo:400,400italic,700">
<link rel="stylesheet" href="/vendor/pygments/github.css">
<link rel="stylesheet" href="/asset/css/style.css">

<!--[if lt IE 9]>
<script src="//cdn.jsdelivr.net/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="//cdn.jsdelivr.net/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="//cdn.jsdelivr.net/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="/vendor/formvalidation/js/formValidation.min.js"></script>
<script src="/vendor/formvalidation/js/framework/bootstrap.min.js"></script>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-44786951-2']);
_gaq.push(['_trackPageview']);

(function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</head>
<body>
    <nav class="doc-nav" tabindex="-1">
    <ul>
        <li><a href="/">Home</a></li>
    
        
        <li class=""><a href="/download/">Download</a></li>
    
        
        <li class=""><a href="/getting-started/">Getting Started</a></li>
    
        
        <li class=""><a href="/settings/">Settings</a></li>
    
        
        <li class=""><a href="/api/">API</a></li>
    
        
        <li class=""><a href="/validators/">Validators</a></li>
    
        
        <li class=""><a href="/addons/"><span></span> Add-ons</a></li>
    
        
        <li class="doc-nav-active"><a href="/examples/"><span></span> Examples</a></li>
    
        
        <li class=""><a href="/developing/">Developing</a></li>
    
        
        <li class=""><a href="/news/">News</a></li>
    
        
        <li class=""><a href="/license/">License</a></li>
    
    </ul>

    <div class="doc-hr"></div>

    <ul>
        <li><a href="https://twitter.com/formvalidation/" title="Follow FormValidation on Twitter">Twitter <i class="fa fa-twitter"></i></a></li>
        <li><a href="https://www.facebook.com/formvalidation/" title="Like FormValidation on Facebook">Facebook <i class="fa fa-facebook"></i></a></li>
        <li><a href="https://plus.google.com/u/0/communities/114931136856987817254" title="Join FormValidation community on Google+">Google+ <i class="fa fa-google-plus"></i></a></li>
    </ul>

    <div class="doc-hr"></div>

    <div class="doc-creator">
        <p>
            Handcrafted with <span class="doc-heart"><i class="fa fa-heart"></i></span> and a lot of <i class="fa fa-coffee"></i><br />
            by <a href="http://twitter.com/nghuuphuoc">@nghuuphuoc</a><br/>
            <img src="/asset/img/logo.png" width="60px" height="60px" />
        </p>
        <p><a href="mailto: phuoc@huuphuoc.me" class="btn">Hire me</a></p>
    </div>
</nav>

<a id="toggleButton" class="doc-nav-toggle" title="Toggle the navigation"><i class="fa fa-navicon"></i></a>

    <div id="main" class="doc-content-wrapper">
        <div class="doc-notification" id="notification">
    <i class="fa fa-bell-o"></i> <a href="/examples/asking-fields-be-unique/">New example: Asking fields to be unique</a>
</div>
<script>
$(document).ready(function() {
    var notifications = [],
        $message      = $('#notification').find('a').data('index', 0);
    notifications.push({ title: 'New example: Asking fields to be unique', url: '/examples/asking-fields-be-unique/'});
    notifications.push({ title: 'New example: Contact form', url: '/examples/contact-form/'});
    notifications.push({ title: 'New example: Validating form generated by JotForm', url: '/examples/jot-form/'});
    notifications.push({ title: 'New example: Validating percentage values', url: '/examples/validating-percentage-values/'});
    notifications.push({ title: 'New example: Validating custom Stripe form', url: '/examples/validating-custom-stripe-form/'});
    notifications.push({ title: 'New example: Showing custom message returned from server', url: '/examples/showing-custom-message-returned-from-server/'});
    notifications.push({ title: 'New example: Terms and conditions agreement validation', url: '/examples/terms-conditions-agreement-validation/'});
    notifications.push({ title: 'i18n add-on v0.1.1 is released', url: '/addons/i18n/'});
    notifications.push({ title: 'v0.6.3 is released on 2015.05.31', url: '/news/v0.6.3-released/'});
    notifications.push({ title: 'New example: Ignoring validation', url: '/examples/ignoring-validation/'});
    
    setInterval(function() {
        $message.data('index', $message.data('index') + 1);
        if ($message.data('index') >= notifications.length) {
            $message.data('index', 0);
        }
        $message
            .fadeOut('slow')
            .promise()
            .then(function() {
                $message.attr('href', notifications[$message.data('index')].url)
                        .html(notifications[$message.data('index')].title)
                        .fadeIn('slow');
            });
    }, 5000);
});
</script>

        <div class="doc-content-container">
    <div class="doc-heading">
        <h1>Showing custom message returned from server</h1>
        <p>&larr; <a href="/examples/">Examples</a></p>
        <div id="shareButton" class="doc-share-button"></div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <section>
                    <p>As you know, each <a href="/validators/">validator</a> provides the <code>message</code> option to define the error message in case the field
                    doesn't pass the associated validator.</p>
                    <p>It's recommended to perform the validation on server side after the form passes the client side validation.
                        The usual question is that how to show the messages from the server if the field doesn't pass the validation on server side.</p>
                    <p>This example will show a handy approach which is described as following steps. To demonstrate the implementation,
                        the example uses a simple registration form that consists of three fields for filling the username, email address and password.</p>
                </section>

                <div class="doc-hr"></div>

                <section>
                    <h2>Step 1: Defining the validation rules</h2>

                    <p>In addition to <a href="/validators/">usual validators</a>, we also attach a special validator called <code>blank</code> to each field which
                        need to show the custom message returned from the server.</p>
                    <p>The blank validator doesn't have any option:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#signupForm&#39;</span><span class="p">).</span><span class="nx">formValidation</span><span class="p">({</span>
    <span class="nx">fields</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">username</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">validators</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">notEmpty</span><span class="o">:</span> <span class="p">{</span>
                    <span class="p">...</span>
                <span class="p">},</span>
                <span class="nx">stringLength</span><span class="o">:</span> <span class="p">{</span>
                    <span class="p">...</span>
                <span class="p">},</span>
                <span class="nx">regexp</span><span class="o">:</span> <span class="p">{</span>
                    <span class="p">...</span>
                <span class="p">},</span>
                <span class="c1">// The bank validator doesn&#39;t have any option</span>
                <span class="nx">blank</span><span class="o">:</span> <span class="p">{}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">email</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">validators</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">notEmpty</span><span class="o">:</span> <span class="p">{</span>
                    <span class="p">...</span>
                <span class="p">},</span>
                <span class="nx">emailAddress</span><span class="o">:</span> <span class="p">{</span>
                    <span class="p">...</span>
                <span class="p">},</span>
                <span class="nx">blank</span><span class="o">:</span> <span class="p">{}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">password</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">validators</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">notEmpty</span><span class="o">:</span> <span class="p">{</span>
                    <span class="p">...</span>
                <span class="p">},</span>
                <span class="nx">blank</span><span class="o">:</span> <span class="p">{}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span></code></pre></div>
                    <p>Since the blank validator always returns <code>true</code>, the field is supposed to pass it whenever the validation is performed in the client side.</p>
                    <p>We will see how we update the validation result later.</p>
                </section>

                <div class="doc-hr"></div>

                <section>
                    <h2>Step 2: Submitting the form data via Ajax</h2>

                    <p>When all fields satisfy the validation rules, we can trigger the <a href="/settings/#event-form">success.form.fv</a> event to send the form data to server via an Ajax request:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#signupForm&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">formValidation</span><span class="p">({</span>
        <span class="p">...</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;success.form.fv&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Prevent default form submission</span>
        <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>

        <span class="kd">var</span> <span class="nx">$form</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">),</span>                    <span class="c1">// The form instance</span>
            <span class="nx">fv</span>    <span class="o">=</span> <span class="nx">$form</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;formValidation&#39;</span><span class="p">);</span>   <span class="c1">// FormValidation instance</span>

        <span class="c1">// Send data to back-end</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
            <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/path/to/your/back-end/&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="nx">$form</span><span class="p">.</span><span class="nx">serialize</span><span class="p">(),</span>
            <span class="nx">dataType</span><span class="o">:</span> <span class="s1">&#39;json&#39;</span>
        <span class="p">}).</span><span class="nx">success</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// We will display the messages from server if they&#39;re available</span>
        <span class="p">});</span>
    <span class="p">});</span></code></pre></div>

                    <p>The error messages returned from server will be processed inside the <code>success</code> handler of the Ajax request.
                        We will see how to do that in the next step.</p>

                    <div class="doc-alert doc-alert-info">
                        Take a look at the <a href="/examples/ajax-submit/">Using Ajax to submit the form</a> for more details
                    </div>
                </section>

                <div class="doc-hr"></div>

                <section>
                    <h2>Step 3: Showing message returned from the server</h2>

                    <p>After getting the data sent from the client via the Ajax request, the server will perform validation using certain programming language.
                        Depend on the validation result, it might response an encoded JSON as
                    </p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// A sample response if all fields are valid</span>
<span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="o">:</span> <span class="s2">&quot;ok&quot;</span>
<span class="p">}</span></code></pre></div>

                    <p>or</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// A sample response if there&#39;s an invalid field.</span>
<span class="c1">// It also tell which and the reason why the field is not valid</span>
<span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="o">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;username&quot;</span><span class="o">:</span> <span class="s2">&quot;The username is not available&quot;</span><span class="p">,</span>
        <span class="s2">&quot;password&quot;</span><span class="o">:</span> <span class="s2">&quot;You need to have more secure password&quot;</span>
        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></div>

                    <p>Lastly, we can use the <a href="/api/#update-message">updateMessage()</a> and <a href="/api/#update-status">updateStatus()</a>
                        methods to set the message and validation result of the <code>blank</code> validator:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="nx">data</span><span class="o">:</span> <span class="nx">$form</span><span class="p">.</span><span class="nx">serialize</span><span class="p">(),</span>
    <span class="nx">dataType</span><span class="o">:</span> <span class="s1">&#39;json&#39;</span>
<span class="p">}).</span><span class="nx">success</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// If there is error returned from server</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">result</span> <span class="o">===</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">field</span> <span class="k">in</span> <span class="nx">response</span><span class="p">.</span><span class="nx">fields</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">fv</span>
                <span class="c1">// Show the custom message</span>
                <span class="p">.</span><span class="nx">updateMessage</span><span class="p">(</span><span class="nx">field</span><span class="p">,</span> <span class="s1">&#39;blank&#39;</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">fields</span><span class="p">[</span><span class="nx">field</span><span class="p">])</span>
                <span class="c1">// Set the field as invalid</span>
                <span class="p">.</span><span class="nx">updateStatus</span><span class="p">(</span><span class="nx">field</span><span class="p">,</span> <span class="s1">&#39;INVALID&#39;</span><span class="p">,</span> <span class="s1">&#39;blank&#39;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Do whatever you want here</span>
        <span class="c1">// such as showing a modal ...</span>
    <span class="p">}</span>
<span class="p">});</span></code></pre></div>

                    <p>Following is a working example that illustrates all steps above:</p>

                    <div class="doc-alert doc-alert-warning">
                        For demonstrating purpose, the form randomly displays a custom message for the username field no matter what you put in it
                    </div>

                    









<div class="doc-demo">
    <ul class="nav nav-tabs">
        <li role="presentation" class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button"><span class="doc-framework">Framework</span> <i class="caret"></i></a>
            <ul class="dropdown-menu" role="menu">
                
                <li><a href="/examples/showing-custom-message-returned-from-server/bootstrap.html" data-demo-target="#basic-frame" data-demo-framework="bootstrap">Bootstrap</a></li>
                
            </ul>
        </li>
        <li class="active"><a href="#basic-form-tab" data-toggle="tab">Try it</a></li>
        
        <li><a href="#basic-programmatic-tab" data-toggle="tab">Programmatic code</a></li>
        
        <li class="doc-demo-direct"><a href="/examples/showing-custom-message-returned-from-server/bootstrap.html" data-toggle="tooltip" data-container="body" title="Open the demo in new tab" target="_blank"><i class="fa fa-external-link"></i></a></li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane active" id="basic-form-tab">
            <iframe class="doc-demo-frame" id="basic-frame"></iframe>
        </div>

        
        <div class="tab-pane" id="basic-programmatic-tab">
            
            <div data-demo-code="bootstrap">
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">&quot;signupForm&quot;</span> <span class="na">class=</span><span class="s">&quot;form-horizontal&quot;</span> <span class="na">autocomplete=</span><span class="s">&quot;off&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;form-group&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;label</span> <span class="na">class=</span><span class="s">&quot;col-xs-3 control-label&quot;</span><span class="nt">&gt;</span>Username<span class="nt">&lt;/label&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-xs-5&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">class=</span><span class="s">&quot;form-control&quot;</span> <span class="na">name=</span><span class="s">&quot;username&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;form-group&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;label</span> <span class="na">class=</span><span class="s">&quot;col-xs-3 control-label&quot;</span><span class="nt">&gt;</span>Email address<span class="nt">&lt;/label&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-xs-5&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">class=</span><span class="s">&quot;form-control&quot;</span> <span class="na">name=</span><span class="s">&quot;email&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;form-group&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;label</span> <span class="na">class=</span><span class="s">&quot;col-xs-3 control-label&quot;</span><span class="nt">&gt;</span>Password<span class="nt">&lt;/label&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-xs-5&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;password&quot;</span> <span class="na">class=</span><span class="s">&quot;form-control&quot;</span> <span class="na">name=</span><span class="s">&quot;password&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;form-group&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-xs-9 col-xs-offset-3&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">class=</span><span class="s">&quot;btn btn-primary&quot;</span><span class="nt">&gt;</span>Sign up<span class="nt">&lt;/button&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/form&gt;</span>

<span class="nt">&lt;script&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#signupForm&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">formValidation</span><span class="p">({</span>
            <span class="nx">framework</span><span class="o">:</span> <span class="s1">&#39;bootstrap&#39;</span><span class="p">,</span>
            <span class="nx">icon</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">valid</span><span class="o">:</span> <span class="s1">&#39;glyphicon glyphicon-ok&#39;</span><span class="p">,</span>
                <span class="nx">invalid</span><span class="o">:</span> <span class="s1">&#39;glyphicon glyphicon-remove&#39;</span><span class="p">,</span>
                <span class="nx">validating</span><span class="o">:</span> <span class="s1">&#39;glyphicon glyphicon-refresh&#39;</span>
            <span class="p">},</span>
            <span class="nx">fields</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">username</span><span class="o">:</span> <span class="p">{</span>
                    <span class="nx">validators</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">notEmpty</span><span class="o">:</span> <span class="p">{</span>
                            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;The username is required&#39;</span>
                        <span class="p">},</span>
                        <span class="nx">stringLength</span><span class="o">:</span> <span class="p">{</span>
                            <span class="nx">min</span><span class="o">:</span> <span class="mi">6</span><span class="p">,</span>
                            <span class="nx">max</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span>
                            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;The username must be more than 6 and less than 30 characters long&#39;</span>
                        <span class="p">},</span>
                        <span class="nx">regexp</span><span class="o">:</span> <span class="p">{</span>
                            <span class="nx">regexp</span><span class="o">:</span> <span class="sr">/^[a-zA-Z0-9_\.]+$/</span><span class="p">,</span>
                            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;The username can only consist of alphabetical, number, dot and underscore&#39;</span>
                        <span class="p">},</span>
                        <span class="nx">blank</span><span class="o">:</span> <span class="p">{}</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="nx">email</span><span class="o">:</span> <span class="p">{</span>
                    <span class="nx">validators</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">notEmpty</span><span class="o">:</span> <span class="p">{</span>
                            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;The email address is required&#39;</span>
                        <span class="p">},</span>
                        <span class="nx">emailAddress</span><span class="o">:</span> <span class="p">{</span>
                            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;The input is not a valid email address&#39;</span>
                        <span class="p">},</span>
                        <span class="nx">blank</span><span class="o">:</span> <span class="p">{}</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="nx">password</span><span class="o">:</span> <span class="p">{</span>
                    <span class="nx">validators</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">notEmpty</span><span class="o">:</span> <span class="p">{</span>
                            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;The password is required&#39;</span>
                        <span class="p">},</span>
                        <span class="nx">blank</span><span class="o">:</span> <span class="p">{}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;success.form.fv&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>

            <span class="kd">var</span> <span class="nx">$form</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">),</span>
                <span class="nx">fv</span>    <span class="o">=</span> <span class="nx">$form</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;formValidation&#39;</span><span class="p">);</span>

            <span class="c1">// For demonstrating purpose, the url is generated randomly</span>
            <span class="c1">// to get different response each time</span>
            <span class="c1">// In fact, it should be /path/to/your/back-end/</span>
            <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;response1.json&#39;</span><span class="p">,</span> <span class="s1">&#39;response2.json&#39;</span><span class="p">][</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)];</span>

            <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
                <span class="nx">url</span><span class="o">:</span> <span class="nx">url</span><span class="p">,</span>
                <span class="nx">data</span><span class="o">:</span> <span class="nx">$form</span><span class="p">.</span><span class="nx">serialize</span><span class="p">(),</span>
                <span class="nx">dataType</span><span class="o">:</span> <span class="s1">&#39;json&#39;</span>
            <span class="p">}).</span><span class="nx">success</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// If there is error returned from server</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">result</span> <span class="o">===</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">field</span> <span class="k">in</span> <span class="nx">response</span><span class="p">.</span><span class="nx">fields</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">fv</span>
                            <span class="c1">// Show the custom message</span>
                            <span class="p">.</span><span class="nx">updateMessage</span><span class="p">(</span><span class="nx">field</span><span class="p">,</span> <span class="s1">&#39;blank&#39;</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">fields</span><span class="p">[</span><span class="nx">field</span><span class="p">])</span>
                            <span class="c1">// Set the field as invalid</span>
                            <span class="p">.</span><span class="nx">updateStatus</span><span class="p">(</span><span class="nx">field</span><span class="p">,</span> <span class="s1">&#39;INVALID&#39;</span><span class="p">,</span> <span class="s1">&#39;blank&#39;</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="c1">// Do whatever you want here</span>
                    <span class="c1">// such as showing a modal ...</span>
                <span class="p">}</span>
            <span class="p">});</span>
        <span class="p">});</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div>
            </div>
            
        </div>
        
    </div>
</div>
                </section>
            </div>

            <div class="col-md-3 hidden-print hidden-xs hidden-sm">
                <div id="toc" class="doc-toc"></div>

                <div class="doc-ad">
    <h6>Advertising</h6>

    <a href="https://emailyoyo.com/api/" class="thumbnail" target="_blank">
        <img class="img-responsive" src="/asset/img/banner/emailyoyo.gif" title="Email YoYo: Real time email validation" />
    </a>

    <a href="mailto: hello@formvalidation.io" class="thumbnail">
        <img class="img-responsive" src="/asset/img/adhere.png" title="Advertise on FormValidation" />
    </a>
</div>
            </div>
        </div>
    </div>
</div>

        <footer class="doc-footer">
    <div class="container">
        <p>
            
            <a class="btn" href="/download/">Download</a>
            
            <a class="btn" href="https://github.com/formvalidation/support/issues">Report bug</a>
        </p>
        <p>
            &copy; 2013 - 2015 <a href="http://twitter.com/nghuuphuoc">Nguyen Huu Phuoc</a>. All rights reserved.<br/>
            Handcrafted with <span class="doc-heart"><i class="fa fa-heart"></i></span> and a lot of <i class="fa fa-coffee"></i>
        </p>
    </div>
</footer>
    </div>

<script src="/vendor/tocjs/js/toc.min.js"></script>
<script src="/vendor/share/share.min.js"></script>
<script src="/asset/js/app.js"></script>
</body>
</html>